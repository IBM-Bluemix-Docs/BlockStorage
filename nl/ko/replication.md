---

copyright:
  years: 2015, 2018
lastupdated: "2018-11-30"

---
{:new_window: target="_blank"}
{:tip: .tip}
{:note: .note}
{:important: .important}

# 데이터 복제

복제 중에는 스냅샷 스케줄 중 하나를 사용하여 자동으로 스냅샷을 원격 데이터 센터의 대상 볼륨으로 복사합니다. 사본은 재해가 발생하거나 데이터가 손상된 경우 원격 사이트에서 복구 가능합니다.

복제본을 사용하면 사이트 장애와 기타 재해로부터 빠르게 복구할 수 있습니다. 긴급한 상황에서는 대상 볼륨으로 장애 복구하여 DR 사본의 특정 시점에서 데이터에 액세스할 수 있습니다. 자세한 정보는 [재해 복구를 위한 복제본 볼륨 복제](disaster-recovery.html)를 참조하십시오.

복제는 서로 다른 두 위치에 동기화된 데이터를 보관합니다. 단지 볼륨을 복제한 후에 이를 원래 볼륨과 독립적으로 사용하려면 [중복 블록 볼륨 작성](how-to-create-duplicate-volume.html)을 참조하십시오.
{:tip}

복제하려면 먼저 스냅샷 스케줄을 작성해야 합니다. 장애 복구 시에, 기본 데이터 센터의 스토리지 볼륨에서 원격 데이터 센터의 대상 볼륨으로 "스위치를 돌립니다". 예를 들어, 기본 데이터 센터가 런던이고 보조 데이터 센터는 암스테르담입니다. 장애가 발생하는 경우 암스테르담의 컴퓨팅 인스턴스에서 현재 기본인 볼륨으로 연결하여 암스테르담으로 장애 복구합니다. 런던의 볼륨이 복구되면 런던 및 런던의 컴퓨팅 인스턴스의 기본 볼륨으로 페일백할 수 있도록 암스테르담 볼륨의 스냅샷이 작성됩니다.


## 내 복제된 스토리지 볼륨에 대한 원격 데이터 센터 판별

전 세계적으로 {{site.data.keyword.BluSoftlayer_full}}의 데이터 센터는 기본과 원격 조합의 쌍으로 구성됩니다.
데이터 센터 가용성 및 복제 대상에 대한 전체 목록은 표 1을 참조하십시오.

<table>
  <caption style="text-align: left;"><p>표 1 - 이 표는 각 지역의 개선된 기능을 포함한 데이터 센터의 전체 목록을 나타냅니다. 모든 지역에는 별도의 열이 있습니다. 일부 도시(예: 댈러스, 산호세, 워싱턴, 암스테르담, 프랑크푸르트, 런던, 시드니)에는 데이터 센터가 여러 개 있습니다.</p>
  <p>&#42; 미국 1 지역의 데이터 센터에는 개선된 스토리지가 없습니다. 개선된 스토리지 기능이 있는 데이터 센터의 호스트는 미국 1 데이터 센터에서 복제본 대상으로 복제를 시작할 수 <strong>없습니다</strong>.</p>
  </caption>
  <thead>
    <tr>
      <th>미국 1 &#42;</th>
      <th>미국 2</th>
      <th>라틴 아메리카</th>
      <th>캐나다</th>
      <th>유럽</th>
      <th>아시아 태평양</th>
      <th>호주</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>DAL01<br />
          DAL05<br />
	  DAL06<br />
	  HOU02<br />
	  SJC01<br />
	  WDC01<br />
	  <br /><br /><br /><br /><br /><br />
      </td>
      <td>SJC03<br />
	  SJC04<br />
	  WDC04<br />
	  WDC06<br />
	  WDC07<br />
	  DAL09<br />
	  DAL10<br />
	  DAL12<br />
	  DAL13<br />
	  <br /><br /><br />
      </td>
      <td>MEX01<br />
	  SAO01<br />
	  <br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
      </td>
      <td>TOR01<br />
          MON01<br />
	  <br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
      </td>
      <td>AMS01<br />
	  AMS03<br />
	  FRA02<br />
	  FRA04<br />
	  FRA05<br />
	  LON02<br />
	  LON04<br />
	  LON05<br />
	  LON06<br />
	  OSL01<br />
	  PAR01<br />
	  MIL01<br />
      </td>
      <td>HKG02<br />
          TOK02<br />
	  TOK04<br />
	  TOK05<br />
	  SNG01<br />
	  SEO01<br />
          CHE01<br />
	  <br /><br /><br /><br /><br />
      </td>
      <td>SYD01<br />
          SYD04<br />
	  MEL01<br />
	  <br /><br /><br /><br /><br /><br /><br /><br /><br />
      </td>
    </tr>
  </tbody>
</table>

## 초기 복제본 작성

복제는 스냅샷 스케줄을 기반으로 작동합니다. 복제하기 전에 우선 소스 볼륨의 스냅샷 스케줄과 스냅샷 영역이 있어야 합니다. 복제를 설정하려고 하는데 둘 중 하나가 없으면 추가 영역을 구매하거나 스케줄을 설정하도록 프롬프트가 표시됩니다. 복제는 [{{site.data.keyword.slportal}} ![External link icon](../../icons/launch-glyph.svg "External link icon")](https://control.softlayer.com/){:new_window}의 **스토리지**, **{{site.data.keyword.blockstorageshort}}**에서 관리됩니다.

1. 스토리지 볼륨을 클릭하십시오.
2. **복제본**을 클릭하고 **복제본 구매**를 클릭하십시오.
3. 복제에서 사용하려는 기존 스냅샷 스케줄을 선택하십시오. 목록에는 모든 활성 스냅샷 스케줄이 포함됩니다. <br />
   시간별, 일별, 주별이 혼합되어 있어도 스케줄은 하나만 선택할 수 있습니다. 이전 복제 주기 이후에 캡처된 모든 스냅샷은 이를 생성한 스케줄에 상관없이 복제됩니다.<br />설정된 스냅샷이 없는 경우, 복제 주문 전에 이를 수행하도록 프롬프트됩니다. 세부사항은 [스냅샷 관련 작업](snapshots.html)을 참조하십시오.
   {:important}
3. **위치**를 클릭하고 DR 사이트가 되는 데이터 센터를 선택하십시오.
4. **계속**을 클릭하십시오.
5. **프로모션 코드**를 입력(있는 경우)하고 **다시 계산**을 클릭하십시오. 기본적으로 창의 기타 필드가 완료됩니다.
6. **마스터 서비스 계약을 읽었습니다…** 선택란을 클릭하고 **주문하기**를 클릭하십시오.


## 기존 복제본 편집

[{{site.data.keyword.slportal}} ![External link icon](../../icons/launch-glyph.svg "External link icon")](https://control.softlayer.com/){:new_window}의 **스토리지**, **{{site.data.keyword.blockstorageshort}}**의 **기본** 또는 **복제본** 탭에서 복제 스케줄을 편집하고 복제 영역을 변경할 수 있습니다.



## 복제 스케줄 편집

복제 스케줄은 기존 스냅샷 스케줄을 기반으로 합니다. 복제 스케줄을 변경하려면(예: 시간별에서 주별) 복제 스케줄을 취소하고 새로 설정해야 합니다.

스케줄 변경은 기본 또는 복제본 탭에서 수행할 수 있습니다.

1. **기본** 또는 **복제본** 탭에서 **조치**를 클릭하십시오.
2. **스냅샷 스케줄 편집**을 선택하십시오.
3. **스케줄**에서 **스냅샷** 프레임을 확인하여 복제에 사용 중인 스케줄을 판별하십시오. 원하는 스케줄을 변경하십시오. 예를 들어, 복제 스케줄이 **일별**인 경우, 복제가 수행되는 시간을 변경할 수 있습니다.
4. **저장**을 클릭하십시오.


## 복제 영역 변경

기본 스냅샷 영역 및 복제본 영역은 동일해야 합니다. **기본** 또는 **복제본** 탭에서 영역을 변경하는 경우, 소스 및 대상 데이터 센터에 자동으로 영역이 추가됩니다. 스냅샷 영역을 늘리면 즉시 복제 업데이트도 트리거됩니다.

1. **기본** 또는 **복제본** 탭에서 **조치**를 클릭하십시오.
2. **추가 스냅샷 영역 추가**를 선택하십시오.
3. 목록에서 스토리지 크기를 선택하고 **계속**을 클릭하십시오.
4. **프로모션 코드**를 입력(있는 경우)하고 **다시 계산**을 클릭하십시오. 기본적으로 대화 상자의 기타 필드가 완료됩니다.
5. **마스터 서비스 계약을 읽었습니다…** 선택란을 클릭하고 **주문하기**를 클릭하십시오.


## 볼륨 목록에서 복제본 볼륨 보기

**스토리지 > {{site.data.keyword.blockstorageshort}}**의 {{site.data.keyword.blockstorageshort}} 페이지에서 복제 볼륨을 볼 수 있습니다. **LUN 이름**은 뒤에 REP가 표시된 기본 볼륨 이름을 표시합니다. **유형**은 Endurance또는 Performance - 복제본입니다. **대상 주소**는 복제본 볼륨이 복제본 데이터 센터에 마운트되지 않기 때문에 해당 없음이고 **상태**는 비활성을 표시합니다.


## 복제본 데이터 센터에서 복제된 볼륨의 세부사항 보기

**스토리지**, **{{site.data.keyword.blockstorageshort}}**의 **복제본** 탭에서 복제본 볼륨 세부사항을 볼 수 있습니다. 또는, **{{site.data.keyword.blockstorageshort}}** 페이지에서 복제본 볼륨을 선택하고, **복제본** 탭을 클릭해서도 볼 수 있습니다.


## 서버를 2차 데이터 센터로 장애 복구하기 전에 호스트 권한 지정

권한 부여된 호스트 및 볼륨은 동일한 데이터 센터에 있어야 합니다. 복제본 볼륨은 런던에 있고 호스트는 암스테르담에 있을 수 없습니다. 둘 다 런던에 있거나 둘 다 암스테르담에 있어야 합니다.

1. **{{site.data.keyword.blockstorageshort}}** 페이지에서 소스 또는 대상 볼륨을 클릭하십시오.
2. **복제본**을 클릭하십시오.
3. **호스트 권한 부여** 프레임으로 스크롤하고 오른쪽에 있는 **호스트 권한 부여**를 클릭하십시오.
4. 복제에 대해 권한 부여되는 호스트를 강조표시하십시오. 호스트를 여러 개 선택하려면 CTRL 키를 사용하고 해당 호스트를 클릭하십시오.
5. **제출**을 클릭하십시오. 호스트가 없는 경우 같은 데이터 센터에서 컴퓨팅 리소스를 구매하도록 프롬프트가 표시됩니다.


## 기본 데이터 센터에서 스냅샷 영역을 늘리면 복제본 데이터 센터에서 스냅샷 영역 증가

볼륨 크기는 기본 및 복제본 스토리지 볼륨에 대해 동일해야 합니다. 크기가 서로 다를 수 없습니다. 기본 볼륨에 대한 스냅샷 영역을 늘리면 복제본 영역도 자동으로 늘어납니다. 스냅샷 영역을 늘리면 즉시 복제 업데이트가 트리거됩니다. 두 볼륨 모두 증가되면 송장의 품목으로 표시되어 필요에 따라 비례 배분됩니다.

스냅샷 영역 늘리기에 대한 자세한 정보는 [스냅샷 주문](ordering-snapshots.html)을 참조하십시오.
{:tip}


## 볼륨에서 복제본으로 장애 복구 시작

장애 발생 시, 목적지 또는 대상 볼륨으로 **장애 복구**를 시작할 수 있습니다. 대상 볼륨은 활성 상태가 됩니다. 마지막으로 복제가 성공된 스냅샷이 활성화되고 마운팅을 위해 볼륨을 사용할 수 있습니다. 이전 복제 주기 이후에 소스 볼륨에 작성된 모든 데이터가 손실됩니다. 장애 복구가 시작되면 복제 관계가 뒤집힙니다. 대상 볼륨이 소스 볼륨이 되고 이전의 소스 볼륨은 **LUN 이름**(뒤에 **REP**가 표시)으로 표시되는 대상이 됩니다.

장애 복구는 [[{{site.data.keyword.slportal}} ![External link icon](../../icons/launch-glyph.svg "External link icon")](https://control.softlayer.com/){:new_window}]의 **스토리지**, **{{site.data.keyword.blockstorageshort}}**에서 시작됩니다.

**해당 단계를 진행하기 전에 볼륨의 연결을 끊으십시오. 그렇지 않으면 결과적으로 손상되고 데이터가 유실됩니다.**

1. 활성 LUN("소스")을 클릭하십시오.
2. **복제본**을 클릭하고 오른쪽 상단 모서리에 있는 **조치** 링크를 클릭하십시오.
3. **장애 복구**를 선택하십시오.
   >장애 복구가 진행 중임을 나타내는 메시지가 페이지 맨 위에 표시될 것으로 예상됩니다. 또한 활성 트랜잭션이 발생 중임을 나타내는 아이콘이 **{{site.data.keyword.blockstorageshort}}**의 볼륨 옆에 표시됩니다. 아이콘 위에 마우스 커서를 두면 트랜잭션을 표시하는 창이 작성됩니다. 아이콘은 트랜잭션이 완료되면 없어집니다. 장애 복구 프로세스 중에, 구성 관련 조치는 읽기 전용입니다. 스냅샷 스케줄을 편집하거나 스냅샷 영역을 변경할 수 없습니다. 이벤트는 복제 히스토리에 로깅됩니다.<br/> 대상 볼륨이 활성 상태이면 또 다른 메시지가 표시됩니다. 원래 소스 볼륨의 LUN 이름이 업데이트되어 "REP"로 끝나고 해당 상태가 비활성이 됩니다.
4. **모두 보기({{site.data.keyword.blockstorageshort}})**를 클릭하십시오.
5. 활성 LUN(이전의 대상 볼륨)을 클릭하십시오.
6. 스토리지 볼륨을 호스트에 마운트하고 접속하십시오. 자세한 내용은 [여기](provisioning-block_storage.html)를 참조하십시오.


## 볼륨에서 복제본으로 장애 복구 시작

원본 소스 볼륨이 복구되면 원본 소스 볼륨으로 제어된 장애 복구를 시작할 수 있습니다. 제어된 페일백에서,

- 활성 소스 볼륨은 오프라인으로 설정됩니다.
- 스냅샷이 작성됩니다.
- 복제 주기가 완료됩니다.
- 조금 전에 작성된 데이터 스냅샷이 활성화됩니다.
- 소스 볼륨이 마운팅을 위해 활성화됩니다.

장애 복구가 시작되면 복제 관계가 다시 뒤집힙니다. 이제 소스 볼륨이 소스 볼륨으로 복원되고, 대상 볼륨은 다시 **LUN 이름**(뒤에 **REP**가 표시)으로 표시되는 대상 볼륨이 됩니다.

장애 복구는 [{{site.data.keyword.slportal}} ![External link icon](../../icons/launch-glyph.svg "External link icon")](https://control.softlayer.com/){:new_window}의 **스토리지**, **{{site.data.keyword.blockstorageshort}}**에서 시작됩니다.

1. 활성 LUN("대상")을 클릭하십시오.
2. 오른쪽 상단에서 **복제본**을 클릭하고 **조치**를 클릭하십시오.
3. **페일백**을 선택하십시오.
   장애 복구가 진행 중임을 나타내는 메시지가 페이지 맨 위에 표시될 것으로 예상됩니다. 또한 활성 트랜잭션이 발생 중임을 나타내는 아이콘이 **{{site.data.keyword.blockstorageshort}}**의 볼륨 옆에 표시됩니다. 아이콘 위에 마우스 커서를 두면 트랜잭션을 표시하는 창이 작성됩니다. 아이콘은 트랜잭션이 완료되면 없어집니다. 장애 복구 프로세스 중에, 구성 관련 조치는 읽기 전용입니다. 스냅샷 스케줄을 편집하거나 스냅샷 영역을 변경할 수 없습니다. 이벤트는 복제 히스토리에 로깅됩니다.
4. 오른쪽 상단에서 **{{site.data.keyword.blockstorageshort}} 모두 보기**를 클릭하십시오.
5. 활성 LUN("소스")을 클릭하십시오.
6. 스토리지 볼륨을 호스트에 마운트하고 접속하십시오. 자세한 내용은 [여기](provisioning-block_storage.html)를 참조하십시오.


## 복제 히스토리 보기

복제 히스토리는 **관리**의 **계정** 탭에 있는 **감사 로그**에서 볼 수 있습니다. 기본 및 복제본 볼륨 모두 동일한 복제 히스토리를 표시합니다. 이 히스토리에는 다음이 포함됩니다.

- 복제의 유형(장애 복구 또는 페일백)
- 시작 시기
- 복제에 사용된 스냅샷
- 복제 크기
- 완료 시기


## 복제본의 복제 작성

기존 {{site.data.keyword.BluSoftlayer_full}} {{site.data.keyword.blockstoragefull}}의 복제본을 작성할 수 있습니다. 복제 볼륨은 기본적으로 원본 LUN/볼륨의 용량 및 성능 옵션을 상속하며 스냅샷 시점까지의 데이터 사본을 포함합니다.

복제는 기본 및 복제본 볼륨 모두에서 작성할 수 있습니다. 원본 볼륨과 동일한 데이터 센터에서 복제가 새로 작성됩니다. 복제본 볼륨에서 복제를 작성하는 경우, 새 볼륨은 복제본 볼륨과 동일한 데이터 센터에서 작성됩니다.

복제 볼륨은 스토리지가 프로비저닝되는 즉시 읽기/쓰기를 위해 호스트에서 액세스 가능합니다. 그러나 원본에서 복제까지 데이터 복사가 완료되지 않으면 스냅샷 및 복제가 허용되지 않습니다.

자세한 정보는 [중복 블록 볼륨 작성](how-to-create-duplicate-volume.html)을 참조하십시오.


## 기존 복제본 취소

복제는 즉시 수행되거나 매년 지정일에 취소할 수 있으며 비용 청구를 종료합니다. 복제는 **기본** 또는 **복제본** 탭에서 취소할 수 있습니다.

1. **{{site.data.keyword.blockstorageshort}}** 페이지에서 볼륨을 클릭하십시오.
2. **기본** 또는 **복제본** 탭에서 **조치**를 클릭하십시오.
3. **복제본 취소**를 선택하십시오.
4. 취소 시기를 선택하십시오. **즉시** 또는 **매년 지정일**을 선택하고 **계속**을 클릭하십시오.
5. **취소로 인해 데이터 유실이 발생할 수 있음을 인지합니다.**를 클릭하고 **복제본 취소**를 클릭하십시오.


## 기본 볼륨이 취소된 경우 복제 취소

기본 볼륨이 취소되면 복제 스케줄 및 복제본 데이터 센터의 볼륨은 삭제됩니다. 복제본은 {{site.data.keyword.blockstorageshort}} 페이지에서 취소됩니다.

 1. **{{site.data.keyword.blockstorageshort}}** 페이지에서 볼륨을 강조표시하십시오.
 2. **조치**에서 **{{site.data.keyword.blockstorageshort}} 취소**를 선택하십시오.
 3. 취소 시기를 선택하십시오. **즉시** 또는 **매년 지정일**을 선택하고 **계속**을 클릭하십시오.
 4. **취소로 인해 데이터 유실이 발생할 수 있음을 인지합니다.**를 클릭하고 **취소**를 클릭하십시오.
