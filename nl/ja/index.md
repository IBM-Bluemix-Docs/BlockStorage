---

copyright:
  years: 2014, 2019
lastupdated: "2019-01-07"

---
{:new_window: target="_blank"}
{:tip: .tip}
{:note: .note}
{:important: .important}
{:DomainName: data-hd-keyref="APPDomain"}
{:DomainName: data-hd-keyref="DomainName"}

# {{site.data.keyword.blockstorageshort}}入門

{{site.data.keyword.blockstoragefull}} は、コンピューティング・インスタンスから独立してプロビジョンおよび管理される、永続的で高性能な iSCSI ストレージです。 iSCSI ベースの {{site.data.keyword.blockstorageshort}} LUN は、冗長マルチパス入出力 (MPIO) 接続を介して、許可されたデバイスに接続されます。

{{site.data.keyword.blockstorageshort}} は、他に類のない機能セットによりクラス最高レベルの耐久性および可用性をもたらします。 この製品は、業界標準とベスト・プラクティスを使用して構築されています。 {{site.data.keyword.blockstorageshort}} は、保守イベントや計画外の障害においてもデータの保全性を保護し、可用性を維持し、一貫性のあるパフォーマンス・ベースラインを提供するように設計されています。

## コア機能

{{site.data.keyword.blockstorageshort}} では以下の機能を利用できます。

- **一貫性のあるパフォーマンス・ベースライン**
   - 個々のボリュームに対するプロトコル・レベルの IOPS の割り振りによって提供されます。
- **強力な耐久性と回復力**
   - データの保全性を保護し、保守イベントおよび計画外の障害の際に可用性を維持します。そのため、独立ディスク (RAID) アレイを使用してオペレーティング・システム・レベルの冗長アレイを作成および管理する必要はありません。
- **Data at Rest 暗号化** ([選択データ・センターで使用可能](new-ibm-block-and-file-storage-location-and-features.html))
   - Data at Rest (保存されたデータ) のためのプロバイダー管理の暗号化を追加コストなしで利用できます。
- **オール・フラッシュ・ストレージによるバッキング** ([選択データ・センターで使用可能](new-ibm-block-and-file-storage-location-and-features.html))
   - 2 IOPS/GB 以上のレベルの「エンデュランス」または「パフォーマンス」でプロビジョンされるボリューム用のオール・フラッシュ・ストレージ。
- **スナップショット** ([選択データ・センターで使用可能](new-ibm-block-and-file-storage-location-and-features.html))
   - 処理を中断せずに、特定時点のデータ・スナップショットをキャプチャーします。
- **レプリケーション** ([選択データ・センターで使用可能](new-ibm-block-and-file-storage-location-and-features.html))
   - パートナーの {{site.data.keyword.BluSoftlayer_full}} データ・センターにスナップショットを自動的にコピーします。
- **可用性の高い接続**
   - 冗長ネットワーキング接続を使用して可用性を最大化します。
   - iSCSI ベースの {{site.data.keyword.blockstorageshort}} では、マルチパス入出力 (MPIO) を使用します。
- **同時アクセス**
   - クラスター構成の場合、複数のホストがブロック・ボリューム (最大 8 個) に同時にアクセスできます。
- **クラスター・データベース**
   - クラスター・データベースなどの高度なユース・ケースをサポートします。

## 請求

ブロック LUN に対して、1 時間ごとまたは月ごとの請求処理を選択できます。 LUN に対して選択した請求のタイプは、その LUN のスナップショット・スペースおよびレプリカに適用されます。 例えば、毎時請求を指定して LUN をプロビジョンすると、スナップショット料金またはレプリカ料金は時間単位で請求されます。 月次請求を指定して LUN をプロビジョンすると、スナップショット料金またはレプリカ料金は月単位で請求されます。

**毎時請求**では、ブロック LUN がアカウント上に存在していた時間数は、LUN が削除された時点、または請求サイクルの終了時の、どちらか早い方の時点で計算されます。 使用期間が数日ないし 1 カ月未満のストレージには毎時請求が適しています。 毎時請求は、[限定されたデータ・センター](new-ibm-block-and-file-storage-location-and-features.html)にプロビジョンされたストレージに対してのみ使用可能です。

**月次請求**では、作成日から請求サイクルの終了までの料金が日割りで計算され、 即時に請求されます。 請求サイクルの終了前に LUN が削除された場合、返金はありません。 月次請求は、長期間 (1 カ月以上) の保管およびアクセスが必要なデータを利用する実動ワークロードに使用するストレージに適しています。

**パフォーマンス**
<table>
  <caption>表 1 は、月次請求および毎時請求を使用したパフォーマンス・ストレージの価格を示しています。</caption>
  <tr>
   <th>月次価格</th>
   <td>$0.10/GB + $0.07/IOP</td>
  </tr>
  <tr>
   <th>毎時価格</th>
   <td>$0.0001/GB + $0.0002/IOP</td>
  </tr>
</table>

**エンデュランス**
<table>
  <caption>表 2 は、月次および毎時の請求オプションを持つそれぞれの層の、エンデュランス・ストレージの価格を示しています。</caption>
  <tr>
   <th>IOPS ティア</th>
   <th>0.25 IOPS/GB</th>
   <th>2 IOPS/GB</th>
   <th>4 IOPS/GB</th>
   <th>10 IOPS/GB</th>
  </tr>
  <tr>
   <th>月次価格</th>
   <td>$0.06/GB</td>
   <td>$0.15/GB</td>
   <td>$0.20/GB</td>
   <td>$0.58/GB</td>
  </tr>
  <tr>
   <th>毎時価格</th>
   <td>$0.0001/GB</td>
   <td>$0.0002/GB</td>
   <td>$0.0003/GB</td>
   <td>$0.0009/GB</td>
  </tr>
</table>



## プロビジョニング

{{site.data.keyword.blockstorageshort}} LUN は、20 GB から 12 TB までプロビジョンできます。これには次の 2 つのオプションがあります。 <br/>
- 事前定義されたパフォーマンス・レベル、およびスナップショットやレプリケーションなどの機能を備えた**エンデュランス**層をプロビジョンする。
- 割り振り済みの 1 秒当たりの入出力操作 (IOPS) を使用して高出力の**パフォーマンス**環境を構築する。

### エンデュランス層を持つプロビジョニング

「エンデュランス」{{site.data.keyword.blockstorageshort}} は、さまざまなアプリケーションのニーズをサポートするよう 4 つの IOPS パフォーマンス層で使用できます。 <br />

- **0.25 IOPS/GB** は、入出力負荷が低いワークロード用に設計されています。 通常、これらのワークロードは、どの時点においても非アクティブになっているデータの割合が高いという特徴があります。 アプリケーションの例として、メールボックスの保管や部門レベルのファイル共有などが挙げられます。

- **2 IOPS/GB** は、大部分の一般的な用途のために設計されています。 アプリケーションの例として、Web アプリケーションをバッキングする小規模なデータベースのホスティングや、ハイパーバイザーの VM ディスク・イメージが挙げられます。

- **4 IOPS/GB** は、高負荷ワークロード用に設計されています。 通常、これらのワークロードには、いつも大部分のデータがアクティブであるという特徴があります。 アプリケーションの例として、トランザクション・データベースやその他の高いパフォーマンスを必要とするデータベースが挙げられます。

- **10 IOPS/GB** は、NoSQL データベースや Analytics のデータ処理などで作成される最も厳しいワークロード用に設計されています。 この層は、[限定されたデータ・センター](new-ibm-block-and-file-storage-location-and-features.html)にプロビジョンされた最大サイズ 4 TB のストレージに対してのみ使用可能です。

12 TB のエンデュランス・ボリュームでは、最大 48,000 IOPS が使用可能です。

ワークロードに見合った適切なエンデュランス層を選択することが重要です。 それと同じくらいに、最高のパフォーマンスを達成するために適切なブロック・サイズ、イーサネット接続速度、およびホストの数を使用することも重要です。 これらの部分のいずれかが他の部分とうまく調整が取れていない場合、結果のスループットに大きな影響を与える可能性があります。


### 「パフォーマンス」でのプロビジョニング

「パフォーマンス」は、エンデュランス層にうまく適合しないがパフォーマンス要件は解明されている高入出力アプリケーションをサポートするように設計された {{site.data.keyword.blockstorageshort}} のクラスです。 予測可能なパフォーマンスは、個々のボリュームに対するプロトコル・レベル IOPS の割り振りによって達成されます。 100 から 48,000 の範囲のさまざまな IOPS レートを、20 GB から 12 TB までの範囲のストレージ・サイズでプロビジョンできます。

{{site.data.keyword.blockstorageshort}} の「パフォーマンス」は、マルチパス入出力 (MPIO) internet Small Computer System Interface (iSCSI) 接続を介してアクセスおよびマウントされます。 {{site.data.keyword.blockstorageshort}}は、通常、単一のサーバーからボリュームにアクセスする場合に使用されます。 複数のボリュームを 1 つのホストにマウントし、まとめてストライピングすることで、ボリュームを大きくし、IOPS 数を増やすことができます。 表 3 のサイズと IOPS レートに従って、Linux、XEN、および Windows の各オペレーティング・システム用のパフォーマンス・ボリュームを注文できます。


<table cellpadding="1" cellspacing="1" style="width: 99%;">
 <caption>表 3 は、パフォーマンス・ストレージのサイズと IOPS の組み合わせを示しています。<br/>限定されたデータ・センターでは、<sup> <img src="/images/numberone.png" alt="脚注" /></sup> 6,000 を超える IOPS 制限が使用可能です。</caption>
        <colgroup>
          <col/>
          <col/>
          <col/>
        </colgroup>
          <tr>
            <th>サイズ (GB)</th>
            <th>最小 IOPS</th>
            <th>最大 IOPS</th>
          </tr>
          <tr>
            <td>20</td>
            <td>100</td>
            <td>1,000</td>
          </tr>
          <tr>
            <td>40</td>
            <td>100</td>
            <td>2,000</td>
          </tr>
          <tr>
            <td>80</td>
            <td>100</td>
            <td>4,000</td>
          </tr>
          <tr>
            <td>100</td>
            <td>100</td>
            <td>6,000</td>
          </tr>
          <tr>
            <td>250</td>
            <td>100</td>
            <td>6,000</td>
          </tr>
          <tr>
            <td>500</td>
            <td>100</td>
            <td>6,000 または 10,000<sup><img src="/images/numberone.png" alt="脚注" /></sup></td>
          </tr>
          <tr>
            <td>1,000</td>
            <td>100</td>
            <td>6,000 または 20,000<sup><img src="/images/numberone.png" alt="脚注" /></sup></td>
          </tr>
          <tr>
            <td>2,000 から 3,000</td>
            <td>200</td>
            <td>6,000 または 40,000<sup><img src="/images/numberone.png" alt="脚注" /></sup></td>
          </tr>
          <tr>
            <td>4,000 から 7,000</td>
            <td>300</td>
            <td>6,000 または 48,000<sup><img src="/images/numberone.png" alt="脚注" /></sup></td>
          </tr>
          <tr>
            <td>8,000 から 9,000</td>
            <td>500</td>
            <td>6,000 または 48,000<sup><img src="/images/numberone.png" alt="脚注" /></sup></td>
          </tr>
          <tr>
            <td>10,000 から 12,000</td>
            <td>1,000</td>
            <td>6,000 または 48,000<sup><img src="/images/numberone.png" alt="脚注" /></sup></td>
          </tr>
</table>


パフォーマンス・ボリュームは、プロビジョンされた IOPS レベルに一貫して近いレベルで動作するように設計されています。 一貫性により、特定レベルのパフォーマンスを持つアプリケーション環境のサイズ変更やスケーリングが容易になります。 さらに、理想的な価格対パフォーマンスの比率でボリュームを構築することによって、環境を最適化することもできます。

### プロビジョニングの考慮事項

**ブロック・サイズ**

エンデュランスとパフォーマンスの IOPS はどちらも、16 KB のブロック・サイズと、50/50 の読み取り/書き込みの 50% のランダム・ワークロードに基づいています。 16 KB ブロックは、ボリュームへの 1 回の書き込みに相当します。
{:important}

アプリケーションが使用するブロック・サイズは、ストレージのパフォーマンスに直接影響します。 アプリケーションが使用するブロック・サイズが 16 KB より小さい場合、スループット限度に達する前に IOPS 限度に到達します。 逆に、アプリケーションが使用するブロック・サイズが 16 KB より大きい場合、IOPS 限度に達する前にスループット限度に到達します。

<table>
  <caption>表 4 は、ブロック・サイズと IOPS によるスループットへの影響の例を示しています。</caption>
        <colgroup>
          <col/>
          <col/>
          <col/>
        </colgroup>
        <thead>
          <tr>
            <th>ブロック・サイズ (KB)</th>
            <th>IOPS</th>
            <th>スループット (MB/秒)</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>4 (Linux の場合の標準)</td>
            <td>1,000</td>
            <td>4</td>
          </tr>
          <tr>
            <td>8 (Oracle の場合の標準)</td>
            <td>1,000</td>
            <td>8</td>
          </tr>
          <tr>
            <td>16</td>
            <td>1,000</td>
            <td>16</td>
          </tr>
          <tr>
            <td>32 (SQL Server の場合の標準)</td>
            <td>500</td>
            <td>16</td>
          </tr>          
          <tr>
            <td>64</td>
            <td>250</td>
            <td>16</td>
          </tr>
          <tr>
            <td>128</td>
            <td>128</td>
            <td>16</td>
          </tr>
          <tr>
            <td>512</td>
            <td>32</td>
            <td>16</td>
          </tr>
        </tbody>
</table>

**許可ホスト**

考慮すべきもう 1 つの要因は、ボリュームを使用しているホストの数です。 ボリュームにアクセスしているホストが 1 つだけの場合は、使用可能な最大 IOPS を実現するのは困難な場合があります (特に、IOPS カウントが 10,000 などのように極端に多い場合)。 ワークロードで高スループットが必要な場合は、シングル・サーバーのボトルネックを回避するために、少なくとも 2 台のサーバーがボリュームにアクセスできるように構成することをお勧めします。

**ネットワーク接続**

イーサネット接続の速度は、ボリュームから予想される最大スループットよりも高速でなければなりません。 一般的に、イーサネット接続が、使用可能な帯域幅の 70% を超えることはありません。 例えば、6,000 IOPS で 16 KB ブロック・サイズを使用している場合、ボリュームは約 94 MB/秒のスループットを処理できます。 LUN への 1 Gbps イーサネット接続がある場合、使用可能な最大スループットをサーバーが使用しようとすると、ボトルネックが発生します。 その理由は、1 Gbps イーサネット接続の理論上の限度 (125 MB/秒) の 70% では、88 MB/秒しか使用できないからです。

最大 IOPS を実現するには、十分なネットワーク・リソースを用意する必要があります。 その他の考慮事項として、ストレージ外の専用ネットワーク使用、およびホスト・サイドおよびアプリケーション固有のチューニング (IP スタック、[キュー項目数](set-host-queue-depth-settings-performance-and-endurance-storage.html)、およびその他の設定) があります。

ストレージ・トラフィックは、パブリック仮想サーバーの合計ネットワーク使用量に含まれます。 このサービスで設定されている制限について詳しくは、[Virtual Server の資料](https://{DomainName}/docs/vsi/vsi_public.html#public-virtual-servers)を参照してください。
{:tip}

## 注文の送信

注文を送信する準備ができたら、[コンソール](provisioning-block_storage.html)または [SLCLI](ordering-through-cli.html) を通してその注文を出すことができます。

## 新規ストレージの接続

プロビジョニング要求が完了したら、ホストに対して新規ストレージへのアクセスを許可し、接続を構成します。 ホストのオペレーティング・システムに応じて、適切なリンクをたどってください。
- [Linux での iSCSI LUN への接続](accessing_block_storage_linux.html)
- [CloudLinux での iSCSI LUN への接続](configure-iscsi-cloudlinux.html)
- [Microsoft Windows での iSCSI LUN への接続](accessing-block-storage-windows.html)
- [cPanel を使用したバックアップ用のブロック・ストレージの構成](configure-backup-cpanel.html)
- [Plesk を使用したバックアップ用のブロック・ストレージの構成](configure-backup-plesk.html)
